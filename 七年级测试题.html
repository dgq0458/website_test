<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>七年级历史上册1-9课测试（6套随机）</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "PingFang SC", sans-serif;
        }
        body {
            background-color: #f5f7f9;
            padding: 15px;
        }
        .title {
            text-align: center;
            color: #2c5282;
            margin: 20px 0;
        }
        .title h1 {
            font-size: 22px;
        }
        .title p {
            font-size: 14px;
            color: #718096;
            margin-top: 5px;
        }
        .page {
            display: none;
            background-color: #fff;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        #startPage {
            display: block;
            text-align: center;
            padding: 40px 0;
        }
        button {
            background-color: #3182ce;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }
        button:active {
            background-color: #2c5282;
        }
        .question {
            font-size: 18px;
            margin-bottom: 15px;
            color: #2d3748;
        }
        .option {
            display: block;
            width: 100%;
            text-align: left;
            padding: 12px 15px;
            margin-bottom: 10px;
            background-color: #edf2f7;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 16px;
            color: #4a5568;
            cursor: pointer;
        }
        .option:active {
            background-color: #bee3f8;
            border-color: #3182ce;
        }
        #resultPage {
            text-align: center;
        }
        #resultPage h2 {
            color: #2c5282;
            margin-bottom: 15px;
        }
        #score {
            font-size: 20px;
            font-weight: bold;
            color: #38a169;
            margin: 15px 0;
        }
        .wrong-item {
            text-align: left;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px dashed #e2e8f0;
        }
        .wrong-item strong {
            color: #e53e3e;
        }
        .reason {
            color: #718096;
            font-size: 14px;
            margin-top: 5px;
        }
        .copyright {
            text-align: center;
            color: #718096;
            font-size: 14px;
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="title">
        <h1>七年级历史上册1-9课测试</h1>
        <p>人教版2024版 | 6套随机题库 | 25题·满分100分</p>
    </div>

    <div id="startPage" class="page">
        <p>点击下方按钮开始测试，每次随机抽取1套题库<br>选完自动跳转下一题，答完可查看总分和错题分析～</p>
        <button id="startBtn">开始测试</button>
    </div>

    <div id="questionPage" class="page">
        <div class="question" id="currentQ"></div>
        <button class="option" id="optA"></button>
        <button class="option" id="optB"></button>
        <button class="option" id="optC"></button>
        <button class="option" id="optD"></button>
    </div>

    <div id="resultPage" class="page">
        <h2>测试完成！</h2>
        <div id="score">你的总分：0 分（满分100分）</div>
        <div id="wrongList">
            <h3>错题回顾</h3>
            <div id="wrongContent"></div>
        </div>
        <button id="restartBtn">重新测试（换套题库）</button>
    </div>

    <div class="copyright">作者：大福在线</div>

    <script>
        // -------------------------- 6套完整题库（每套25题，考点不重复） --------------------------
        const allBanks = [
            // 题库1：基础概念类
            [
                { q: "1. 我国境内目前已确认的最早古人类是？", a: "A. 北京人", b: "B. 元谋人", c: "C. 山顶洞人", d: "D. 半坡人", ans: "B", reason: "元谋人距今约170万年，是我国境内最早古人类" },
                { q: "2. 北京人主要生活在哪个原始人类时期？", a: "A. 旧石器时代", b: "B. 新石器时代", c: "C. 青铜时代", d: "D. 铁器时代", ans: "A", reason: "北京人使用打制石器，属于旧石器时代" },
                { q: "3. 河姆渡居民的房屋样式是？", a: "A. 半地穴式", b: "B. 干栏式", c: "C. 窑洞式", d: "D. 土坯式", ans: "B", reason: "河姆渡位于长江流域，气候湿润，住干栏式房屋防潮" },
                { q: "4. 半坡居民会制作哪种特色陶器？", a: "A. 黑陶", b: "B. 彩陶", c: "C. 白陶", d: "D. 青瓷", ans: "B", reason: "半坡居民擅长制作彩陶，表面有鱼纹、鹿纹等图案" },
                { q: "5. 中国历史上第一个奴隶制王朝是？", a: "A. 夏朝", b: "B. 商朝", c: "C. 西周", d: "D. 秦朝", ans: "A", reason: "前2070年禹建夏朝，标志奴隶社会开始" },
                { q: "6. 夏朝灭亡的末代君主是？", a: "A. 禹", b: "B. 启", c: "C. 桀", d: "D. 纣", ans: "C", reason: "桀是夏朝末代暴君，统治残暴导致夏朝灭亡" },
                { q: "7. 商朝的都城“殷”位于今天的哪里？", a: "A. 河南安阳", b: "B. 陕西西安", c: "C. 河南洛阳", d: "D. 北京周口店", ans: "A", reason: "商朝后期迁都殷（今河南安阳），又称“殷商”" },
                { q: "8. 西周分封制中，诸侯对周天子的义务不包括？", a: "A. 缴纳贡赋", b: "B. 随从作战", c: "C. 自主废立天子", d: "D. 镇守疆土", ans: "C", reason: "诸侯需纳贡、作战、守疆土，但无权废立天子" },
                { q: "9. 春秋时期的起止时间是？", a: "A. 前770-前476年", b: "B. 前475-前221年", c: "C. 前221-前207年", d: "D. 前202-公元25年", ans: "A", reason: "春秋从平王东迁（前770年）到前476年" },
                { q: "10. 战国七雄中，位于最西边的诸侯国是？", a: "A. 齐国", b: "B. 楚国", c: "C. 秦国", d: "D. 燕国", ans: "C", reason: "七雄地理：秦西、齐东、楚南、燕北" },
                { q: "11. 商鞅变法开始于哪一年？", a: "A. 前356年", b: "B. 前221年", c: "C. 前770年", d: "D. 前475年", ans: "A", reason: "前356年秦孝公任用商鞅开始变法" },
                { q: "12. 都江堰是由谁主持修建的？", a: "A. 商鞅", b: "B. 李冰", c: "C. 李斯", d: "D. 蒙恬", ans: "B", reason: "战国后期秦国蜀郡太守李冰主持修建都江堰" },
                { q: "13. 孔子的核心思想是？", a: "A. 道", b: "B. 仁", c: "C. 法", d: "D. 兼爱", ans: "B", reason: "孔子思想核心是“仁”，主张爱人、以德治国" },
                { q: "14. 主张“无为而治”的学派是？", a: "A. 儒家", b: "B. 道家", c: "C. 法家", d: "D. 墨家", ans: "B", reason: "道家老子主张“无为而治”，顺应自然" },
                { q: "15. 我国有文字可考的历史始于哪个朝代？", a: "A. 夏朝", b: "B. 商朝", c: "C. 西周", d: "D. 春秋", ans: "B", reason: "商朝甲骨文是我国最早成熟文字，可考历史始于商" },
                { q: "16. 司母戊鼎的主要用途是？", a: "A. 农业工具", b: "B. 祭祀礼器", c: "C. 日常餐具", d: "D. 军事武器", ans: "B", reason: "司母戊鼎是商朝大型青铜礼器，用于祭祀" },
                { q: "17. 秦统一中国的君主是？", a: "A. 秦孝公", b: "B. 秦始皇", c: "C. 秦二世", d: "D. 秦穆公", ans: "B", reason: "前221年秦王嬴政（秦始皇）统一六国" },
                { q: "18. 秦朝统一的货币样式是？", a: "A. 刀形", b: "B. 布形", c: "C. 圆形方孔", d: "D. 贝形", ans: "C", reason: "秦朝统一为圆形方孔半两钱，形制沿用千年" },
                { q: "19. 秦朝统一的文字是？", a: "A. 甲骨文", b: "B. 小篆", c: "C. 隶书", d: "D. 金文", ans: "B", reason: "秦始皇命李斯创小篆，作为全国规范文字" },
                { q: "20. 秦长城的西起点是？", a: "A. 临洮", b: "B. 辽东", c: "C. 嘉峪关", d: "D. 山海关", ans: "A", reason: "秦长城西起临洮（今甘肃），东到辽东" },
                { q: "21. 山顶洞人掌握的新技能是？", a: "A. 使用天然火", b: "B. 人工取火", c: "C. 种植水稻", d: "D. 制作青铜器", ans: "B", reason: "山顶洞人会人工取火，北京人只会用天然火" },
                { q: "22. 河姆渡与半坡文明的共同点是？", a: "A. 都种水稻", b: "B. 都住干栏式房屋", c: "C. 都过定居生活", d: "D. 都位于黄河流域", ans: "C", reason: "二者均为新石器时代农耕文明，都过定居生活" },
                { q: "23. 西周“宗法制”的核心是？", a: "A. 嫡长子继承制", b: "B. 分封诸侯", c: "C. 礼乐规范", d: "D. 中央集权", ans: "A", reason: "宗法制以血缘为基础，核心是嫡长子继承制" },
                { q: "24. 商鞅变法中促进农业发展的措施是？", a: "A. 奖励军功", b: "B. 奖励耕织", c: "C. 确立县制", d: "D. 废除贵族特权", ans: "B", reason: "奖励耕织规定“多产免徭役”，直接推动农业" },
                { q: "25. 秦朝灭亡的直接原因是？", a: "A. 陈胜吴广起义", b: "B. 项羽刘邦起义", c: "C. 暴政统治", d: "D. 匈奴入侵", ans: "A", reason: "前209年陈胜吴广起义是秦朝灭亡的直接导火索" }
            ],
            // 题库2：细节理解类
            [
                { q: "1. 元谋人发现的地点是？", a: "A. 北京周口店", b: "B. 云南元谋县", c: "C. 陕西西安", d: "D. 浙江余姚", ans: "B", reason: "元谋人遗址位于云南省元谋县" },
                { q: "2. 北京人获取食物的主要方式是？", a: "A. 农耕种植", b: "B. 渔猎采集", c: "C. 饲养家畜", d: "D. 商品交换", ans: "B", reason: "北京人不会农耕，靠渔猎和采集获取食物" },
                { q: "3. 河姆渡居民主要种植的粮食作物是？", a: "A. 粟", b: "B. 小麦", c: "C. 水稻", d: "D. 玉米", ans: "C", reason: "河姆渡是我国最早种植水稻的遗址之一" },
                { q: "4. 半坡遗址位于哪个流域？", a: "A. 长江流域", b: "B. 黄河流域", c: "C. 珠江流域", d: "D. 淮河流域", ans: "B", reason: "半坡遗址在陕西西安，属于黄河流域" },
                { q: "5. 禹建立夏朝后，最初的权力传承方式是？", a: "A. 禅让制", b: "B. 世袭制", c: "C. 分封制", d: "D. 郡县制", ans: "A", reason: "禹最初想传位给伯益（禅让），后启继承王位，世袭制取代禅让制" },
                { q: "6. 商朝最主要的手工业部门是？", a: "A. 纺织业", b: "B. 制陶业", c: "C. 青铜铸造业", d: "D. 冶铁业", ans: "C", reason: "商朝青铜铸造业技术高超，司母戊鼎是代表作" },
                { q: "7. 西周的都城是？", a: "A. 殷", b: "B. 镐京", c: "C. 洛邑", d: "D. 咸阳", ans: "B", reason: "西周定都镐京（今陕西西安），东周迁都洛邑" },
                { q: "8. 春秋时期第一个霸主是？", a: "A. 晋文公", b: "B. 楚庄王", c: "C. 齐桓公", d: "D. 秦穆公", ans: "C", reason: "齐桓公任用管仲改革，以“尊王攘夷”称霸" },
                { q: "9. 战国时期“胡服骑射”改革的是哪个国家？", a: "A. 秦国", b: "B. 赵国", c: "C. 魏国", d: "D. 楚国", ans: "B", reason: "赵国赵武灵王推行“胡服骑射”，增强军事力量" },
                { q: "10. 商鞅变法中，加强中央集权的措施是？", a: "A. 奖励军功", b: "B. 确立县制", c: "C. 废除井田制", d: "D. 统一度量衡", ans: "B", reason: "确立县制，国君直接派官治理，加强中央对地方控制" },
                { q: "11. 都江堰的主要功能是？", a: "A. 军事防御", b: "B. 灌溉防洪", c: "C. 交通航运", d: "D. 城市供水", ans: "B", reason: "都江堰通过分流、排沙，灌溉成都平原，防洪减灾" },
                { q: "12. 孔子创办的学派是？", a: "A. 儒家", b: "B. 道家", c: "C. 法家", d: "D. 墨家", ans: "A", reason: "孔子是儒家学派创始人，主张“仁”和“礼”" },
                { q: "13. 主张“兼爱非攻”的思想家是？", a: "A. 孔子", b: "B. 老子", c: "C. 墨子", d: "D. 韩非子", ans: "C", reason: "墨家墨子主张“兼爱”（平等爱）和“非攻”（反对战争）" },
                { q: "14. 甲骨文主要记录的内容是？", a: "A. 商业交易", b: "B. 祭祀占卜", c: "C. 军事行动", d: "D. 农业生产", ans: "B", reason: "甲骨文多为商朝王室祭祀、占卜的记录" },
                { q: "15. 商朝的青铜铸造业发达，其原料不包括？", a: "A. 铜", b: "B. 锡", c: "C. 铅", d: "D. 铁", ans: "D", reason: "商朝青铜器以铜、锡、铅为原料，铁器春秋后期才出现" },
                { q: "16. 秦始皇统一六国后，推行的地方行政制度是？", a: "A. 分封制", b: "B. 郡县制", c: "C. 行省制", d: "D. 郡国并行制", ans: "B", reason: "秦朝废分封，设郡县，加强中央集权" },
                { q: "17. 秦朝统一度量衡中的“量”指的是？", a: "A. 长度", b: "B. 容量", c: "C. 重量", d: "D. 面积", ans: "B", reason: "度量衡中，“度”是长度，“量”是容量，“衡”是重量" },
                { q: "18. 秦朝的官方文字是小篆，民间流行的简化文字是？", a: "A. 甲骨文", b: "B. 金文", c: "C. 隶书", d: "D. 楷书", ans: "C", reason: "秦朝民间为书写方便，流行隶书，比小篆简洁" },
                { q: "19. 秦长城修建的主要目的是？", a: "A. 抵御匈奴", b: "B. 防止农民起义", c: "C. 划分疆域", d: "D. 发展旅游", ans: "A", reason: "秦朝为抵御北方匈奴族南下，派蒙恬修长城" },
                { q: "20. 山顶洞人的体质特征与现代人的关系是？", a: "A. 完全不同", b: "B. 基本相同", c: "C. 更接近猿类", d: "D. 无法判断", ans: "B", reason: "山顶洞人体质特征与现代人基本相同，已进化为晚期智人" },
                { q: "21. 河姆渡居民会使用的工具是？", a: "A. 打制石器", b: "B. 磨制石器", c: "C. 青铜器", d: "D. 铁器", ans: "B", reason: "河姆渡属新石器时代，使用磨制石器" },
                { q: "22. 半坡居民的社会组织形式是？", a: "A. 原始人群", b: "B. 氏族公社", c: "C. 国家", d: "D. 部落联盟", ans: "B", reason: "半坡居民以氏族为单位生活，属于氏族公社时期" },
                { q: "23. 西周“礼乐制度”的作用是？", a: "A. 促进经济发展", b: "B. 规范等级秩序", c: "C. 推动科技进步", d: "D. 加强军事力量", ans: "B", reason: "礼乐制度通过礼仪、音乐规范贵族等级，维护统治" },
                { q: "24. 商鞅变法后，秦国国力增强的主要原因是？", a: "A. 地理位置优越", b: "B. 改革顺应历史潮流", c: "C. 君主个人能力强", d: "D. 自然条件好", ans: "B", reason: "商鞅变法废除旧制度，确立封建制度，顺应历史发展" },
                { q: "25. 秦朝的暴政主要表现在？", a: "A. 轻徭薄赋", b: "B. 繁重徭役和严酷刑法", c: "C. 重视文化教育", d: "D. 善待百姓", ans: "B", reason: "秦朝徭役繁重（修长城、阿房宫），刑法严酷（连坐、腰斩）" }
            ],
            // 题库3：对比分析类
            [
                { q: "1. 元谋人与北京人的主要区别是？", a: "A. 是否会用火", b: "B. 生活年代早晚", c: "C. 是否会制作工具", d: "D. 是否过群居生活", ans: "B", reason: "元谋人距今170万年，北京人70-20万年，主要区别是生活年代" },
                { q: "2. 北京人与山顶洞人的共同点是？", a: "A. 都使用打制石器", b: "B. 都人工取火", c: "C. 都种水稻", d: "D. 都住干栏式房屋", ans: "A", reason: "二者均属旧石器时代，使用打制石器；山顶洞人会人工取火，北京人不会" },
                { q: "3. 河姆渡与半坡居民房屋样式不同的原因是？", a: "A. 技术水平", b: "B. 地理环境", c: "C. 人口多少", d: "D. 社会制度", ans: "B", reason: "河姆渡长江流域湿润（干栏式），半坡黄河流域干燥（半地穴式）" },
                { q: "4. 河姆渡与半坡居民的共同点是？", a: "A. 都种粟", b: "B. 都种水稻", c: "C. 都过定居生活", d: "D. 都住半地穴式房屋", ans: "C", reason: "二者均为农耕文明，都过定居生活；河姆渡种水稻，半坡种粟" },
                { q: "5. 夏朝与商朝的主要区别是？", a: "A. 是否有文字", b: "B. 是否有国家", c: "C. 是否有君主", d: "D. 是否有农业", ans: "A", reason: "商朝有甲骨文（成熟文字），夏朝暂无确定文字遗存" },
                { q: "6. 商朝与西周的政治制度共同点是？", a: "A. 都实行分封制", b: "B. 都实行郡县制", c: "C. 都实行禅让制", d: "D. 都实行宗法制", ans: "D", reason: "商周均以宗法制为基础；西周分封制更完善，商朝分封较简单" },
                { q: "7. 春秋与战国时期的主要区别是？", a: "A. 是否有霸主", b: "B. 战争规模大小", c: "C. 是否有国家统一", d: "D. 是否有铁器使用", ans: "B", reason: "春秋战争以争霸为主，规模小；战国以兼并为主，规模大" },
                { q: "8. 齐桓公与晋文公称霸的共同点是？", a: "A. 都用管仲改革", b: "B. 都以“尊王攘夷”为口号", c: "C. 都通过战争取胜", d: "D. 都定都洛阳", ans: "C", reason: "二者均通过战争（齐桓公葵丘会盟、晋文公城濮之战）确立霸权" },
                { q: "9. 商鞅变法与李悝变法的共同点是？", a: "A. 都在秦国推行", b: "B. 都重视农业", c: "C. 都确立县制", d: "D. 都废除贵族特权", ans: "B", reason: "二者均重视农业发展（商鞅奖励耕织、李悝“尽地力之教”）" },
                { q: "10. 儒家与道家的主要区别是？", a: "A. 是否主张“仁”", b: "B. 是否关注社会", c: "C. 是否主张“无为”", d: "D. 是否重视教育", ans: "B", reason: "儒家关注社会秩序（积极入世），道家主张顺应自然（消极避世）" },
                { q: "11. 儒家与法家的主要区别是？", a: "A. 是否主张治国", b: "B. 是否用道德或法律治国", c: "C. 是否重视礼仪", d: "D. 是否关注民生", ans: "B", reason: "儒家主张“以德治国”，法家主张“以法治国”" },
                { q: "12. 墨家与儒家的主要区别是？", a: "A. 是否主张“爱”", b: "B. 主张“平等爱”或“等级爱”", c: "C. 是否反对战争", d: "D. 是否重视教育", ans: "B", reason: "墨家主张“兼爱”（平等爱所有人），儒家主张“仁爱”（有等级的爱）" },
                { q: "13. 甲骨文与金文的主要区别是？", a: "A. 是否是文字", b: "B. 书写材料", c: "C. 出现年代", d: "D. 记录内容", ans: "B", reason: "甲骨文刻在龟甲兽骨上，金文刻在青铜器上" },
                { q: "14. 小篆与隶书的主要区别是？", a: "A. 是否是汉字", b: "B. 书写难易程度", c: "C. 出现朝代", d: "D. 是否官方使用", ans: "B", reason: "隶书比小篆笔画简化，书写更简便，适合民间使用" },
                { q: "15. 秦长城与明长城的主要区别是？", a: "A. 是否抵御匈奴", b: "B. 起止点", c: "C. 是否用砖石修建", d: "D. 是否有防御功能", ans: "B", reason: "秦长城西起临洮、东到辽东；明长城东起鸭绿江、西到嘉峪关" },
                { q: "16. 夏朝与秦朝的主要区别是？", a: "A. 是否有国家", b: "B. 社会制度（奴隶/封建）", c: "C. 是否有君主", d: "D. 是否有农业", ans: "B", reason: "夏朝是奴隶社会，秦朝是封建社会" },
                { q: "17. 商朝青铜礼器与实用器具的主要区别是？", a: "A. 是否用青铜制作", b: "B. 用途（祭祀/日常）", c: "C. 制作工艺", d: "D. 出现年代", ans: "B", reason: "礼器用于祭祀，实用器具用于日常生产生活" },
                { q: "18. 西周分封制与秦朝郡县制的主要区别是？", a: "A. 是否管理地方", b: "B. 官员是否世袭", c: "C. 是否有中央集权", d: "D. 是否有等级", ans: "B", reason: "分封制诸侯世袭，郡县制官员由中央任命，不世袭" },
                { q: "19. 春秋争霸战争与战国兼并战争的主要区别是？", a: "A. 是否有战争", b: "B. 战争目的（争霸/兼并）", c: "C. 是否有霸主", d: "D. 是否使用兵器", ans: "B", reason: "春秋战争目的是争霸（尊王攘夷），战国是兼并（统一全国）" },
                { q: "20. 孔子与孟子的共同点是？", a: "A. 都主张“仁”", b: "B. 都主张“无为”", c: "C. 都主张“法治”", d: "D. 都主张“兼爱”", ans: "A", reason: "孟子是儒家代表，继承孔子“仁”的思想，发展为“仁政”" },
                { q: "21. 老子与庄子的共同点是？", a: "A. 都主张“仁”", b: "B. 都主张“无为而治”", c: "C. 都主张“法治”", d: "D. 都主张“兼爱”", ans: "B", reason: "庄子是道家代表，继承老子“无为而治”的思想" },
                { q: "22. 商鞅变法中“奖励军功”与“奖励耕织”的共同点是？", a: "A. 都促进农业", b: "B. 都促进军事", c: "C. 都打破贵族特权", d: "D. 都奖励有贡献者", ans: "D", reason: "二者均以“贡献”为奖励标准（军功/耕织成果）" },
                { q: "23. 秦朝统一文字与统一货币的共同点是？", a: "A. 都促进农业", b: "B. 都促进文化", c: "C. 都巩固国家统一", d: "D. 都促进商业", ans: "C", reason: "统一文字（文化统一）、统一货币（经济统一），均巩固国家统一" },
                { q: "24. 河姆渡水稻种植与半坡粟种植的共同点是？", a: "A. 都适应湿润气候", b: "B. 都适应干燥气候", c: "C. 都标志农耕文明出现", d: "D. 都用打制石器种植", ans: "C", reason: "二者均为我国早期农耕文明的标志，河姆渡水稻适应湿润，半坡粟适应干燥" },
                { q: "25. 商朝甲骨文与西周金文的共同点是？", a: "A. 都刻在龟甲上", b: "B. 都记录祭祀内容", c: "C. 都属成熟文字", d: "D. 都用于民间交流", ans: "C", reason: "二者均为商周时期的成熟文字，甲骨文刻龟甲，金文刻青铜；主要用于王室，非民间" }
            ],
            // 题库4：史料应用类
            [
                { q: "1. “元谋人牙齿化石发现于云南元谋县，距今约170万年”，据此可判断元谋人是？", a: "A. 我国最早古人类", b: "B. 会人工取火", c: "C. 会种水稻", d: "D. 住干栏式房屋", ans: "A", reason: "史料明确元谋人距今170万年，是我国境内目前已确认的最早古人类" },
                { q: "2. “北京人遗址中发现大量灰烬层，厚度达6米”，据此可推断北京人？", a: "A. 会人工取火", b: "B. 会使用天然火", c: "C. 会种粟", d: "D. 会制作彩陶", ans: "B", reason: "灰烬层说明北京人会使用火，但无法证明是人工取火（山顶洞人才会）" },
                { q: "3. “河姆渡遗址中发现大量稻谷遗存”，据此可判断河姆渡居民？", a: "A. 会种水稻", b: "B. 会种粟", c: "C. 会住半地穴式房屋", d: "D. 会制作黑陶", ans: "A", reason: "稻谷遗存直接证明河姆渡居民会种植水稻" },
                { q: "4. “半坡遗址中发现彩陶残片，表面有鱼纹图案”，据此可推断半坡居民？", a: "A. 会人工取火", b: "B. 会渔猎", c: "C. 会种水稻", d: "D. 会住干栏式房屋", ans: "B", reason: "鱼纹图案反映半坡居民的渔猎生活" },
                { q: "5. 《史记》记载“禹传子，家天下”，据此可判断夏朝实行？", a: "A. 禅让制", b: "B. 世袭制", c: "C. 分封制", d: "D. 郡县制", ans: "B", reason: "“禹传子”说明权力由“传贤”变为“传子”，世袭制取代禅让制" },
                { q: "6. “商朝青铜器司母戊鼎重达832.84千克”，据此可推断商朝？", a: "A. 青铜铸造业发达", b: "B. 农业水平高", c: "C. 商业繁荣", d: "D. 军事力量强", ans: "A", reason: "司母戊鼎的规模和重量反映商朝青铜铸造技术高超" },
                { q: "7. “西周青铜器上的铭文（金文）记录了王室分封诸侯的内容”，据此可判断西周实行？", a: "A. 禅让制", b: "B. 世袭制", c: "C. 分封制", d: "D. 郡县制", ans: "C", reason: "铭文记录分封诸侯，直接证明西周实行分封制" },
                { q: "8. 《论语》记载“管仲相桓公，霸诸侯，一匡天下”，据此可判断齐桓公称霸的原因是？", a: "A. 地理位置优越", b: "B. 任用管仲改革", c: "C. 军事力量强", d: "D. 自然条件好", ans: "B", reason: "史料明确“管仲相桓公”，说明任用管仲改革是称霸关键" },
                { q: "9. “战国时期秦国商鞅变法规定：奖励军功，按军功授爵”，据此可判断变法的目的是？", a: "A. 促进农业", b: "B. 增强军事力量", c: "C. 加强中央集权", d: "D. 发展商业", ans: "B", reason: "奖励军功直接目的是激励士兵作战，增强军事力量" },
                { q: "10. “都江堰建成后，成都平原‘水旱从人，不知饥馑’”，据此可判断都江堰的作用是？", a: "A. 军事防御", b: "B. 灌溉防洪", c: "C. 交通航运", d: "D. 城市供水", ans: "B", reason: "“水旱从人”说明都江堰能调节水旱，作用是灌溉防洪" },
                { q: "11. 《论语》记载孔子说“己所不欲，勿施于人”，据此可判断孔子的核心思想是？", a: "A. 道", b: "B. 仁", c: "C. 法", d: "D. 兼爱", ans: "B", reason: "“己所不欲，勿施于人”是孔子“仁”思想的具体体现" },
                { q: "12. 《道德经》记载“道法自然”，据此可判断老子的思想主张是？", a: "A. 以德治国", b: "B. 以法治国", c: "C. 无为而治", d: "D. 兼爱非攻", ans: "C", reason: "“道法自然”主张顺应自然，是“无为而治”的理论基础" },
                { q: "13. “甲骨文记录了商朝王室祭祀时的占卜结果”，据此可判断甲骨文的用途是？", a: "A. 商业交易凭证", b: "B. 祭祀占卜记录", c: "C. 军事命令", d: "D. 农业生产记录", ans: "B", reason: "史料明确甲骨文是祭祀占卜的记录" },
                { q: "14. “秦朝统一货币为圆形方孔半两钱，在全国流通”，据此可判断统一货币的目的是？", a: "A. 促进农业", b: "B. 巩固国家统一", c: "C. 发展文化", d: "D. 加强军事", ans: "B", reason: "统一货币消除经济壁垒，促进全国经济统一，巩固国家统一" },
                { q: "15. “秦朝统一文字为小篆，规定官方文书必须用小篆书写”，据此可判断统一文字的目的是？", a: "A. 促进商业", b: "B. 增强军事", c: "C. 巩固国家统一", d: "D. 发展农业", ans: "C", reason: "统一文字消除文化壁垒，促进全国文化统一，巩固国家统一" },
                { q: "16. “秦长城西起临洮，东到辽东，绵延万余里”，据此可判断长城的主要作用是？", a: "A. 抵御匈奴", b: "B. 旅游景点", c: "C. 划分疆域", d: "D. 防止农民起义", ans: "A", reason: "秦长城位于北方，主要作用是抵御北方匈奴族入侵" },
                { q: "17. “西汉贾谊《过秦论》记载秦朝‘赋役繁重，刑法严酷’”，据此可判断秦朝灭亡的原因是？", a: "A. 匈奴入侵", b: "B. 暴政统治", c: "C. 自然灾害", d: "D. 诸侯叛乱", ans: "B", reason: "“赋役繁重，刑法严酷”是秦朝暴政的体现，是灭亡根本原因" },
                { q: "18. “山顶洞人遗址中发现骨针和装饰品”，据此可推断山顶洞人？", a: "A. 会人工取火", b: "B. 会缝制衣服和有审美观念", c: "C. 会种水稻", d: "D. 会住干栏式房屋", ans: "B", reason: "骨针用于缝制衣服，装饰品说明有审美观念" },
                { q: "19. “西周‘礼乐制度’规定：不同等级的贵族使用不同规格的礼器和乐器”，据此可判断礼乐制度的作用是？", a: "A. 促进艺术发展", b: "B. 规范等级秩序", c: "C. 促进经济发展", d: "D. 加强军事力量", ans: "B", reason: "不同等级用不同规格物品，目的是维护等级秩序" },
                { q: "20. “战国时期魏国李悝变法制定《法经》，是我国第一部比较系统的成文法典”，据此可判断李悝变法的特点是？", a: "A. 重视农业", b: "B. 重视法治", c: "C. 重视军事", d: "D. 重视文化", ans: "B", reason: "制定《法经》体现李悝变法重视法治的特点" },
                { q: "21. “孔子创办私学，主张‘有教无类’”，据此可判断孔子的教育思想是？", a: "A. 教育只面向贵族", b: "B. 教育面向所有人", c: "C. 教育只面向男子", d: "D. 教育只面向女子", ans: "B", reason: "“有教无类”主张不分贵贱、贫富，所有人都可接受教育" },
                { q: "22. “墨家学派成员多为下层工匠和农民，主张‘节用’‘节葬’”，据此可判断墨家代表的阶级利益是？", a: "A. 奴隶主贵族", b: "B. 新兴地主阶级", c: "C. 下层平民", d: "D. 封建帝王", ans: "C", reason: "成员构成和“节用”主张反映墨家代表下层平民利益" },
                { q: "23. “商朝甲骨文与西周金文在字体结构上有继承关系”，据此可判断汉字的发展特点是？", a: "A. 突然出现", b: "B. 逐渐演变", c: "C. 一成不变", d: "D. 随意变化", ans: "B", reason: "继承关系说明汉字是从甲骨文到金文逐渐演变的" },
                { q: "24. “秦朝郡县制下，郡县长官由皇帝直接任命，定期考核”，据此可判断郡县制的作用是？", a: "A. 加强中央集权", b: "B. 扩大地方权力", c: "C. 促进商业发展", d: "D. 发展文化教育", ans: "A", reason: "皇帝任命长官，直接控制地方，加强中央集权" },
                { q: "25. “陈胜吴广起义提出‘王侯将相宁有种乎’的口号”，据此可判断起义的意义是？", a: "A. 推翻秦朝统治", b: "B. 否定贵族世袭特权", c: "C. 建立新朝代", d: "D. 促进经济发展", ans: "B", reason: "口号质疑“王侯将相”的世袭性，否定贵族世袭特权" }
            ],
            // 题库5：影响意义类
            [
                { q: "1. 元谋人的发现具有重要意义，主要是因为它证明了？", a: "A. 我国早期人类的存在", b: "B. 人类会人工取火", c: "C. 人类会种水稻", d: "D. 人类会住房屋", ans: "A", reason: "元谋人是我国境内最早古人类，其发现证明我国早期人类的存在" },
                { q: "2. 北京人使用天然火的意义是？", a: "A. 标志人类进入新石器时代", b: "B. 提高人类适应环境的能力", c: "C. 标志人类进入农耕文明", d: "D. 标志人类进入青铜时代", ans: "B", reason: "使用天然火可烧烤食物、防寒、驱赶野兽，提高适应环境能力" },
                { q: "3. 河姆渡居民种植水稻的意义是？", a: "A. 标志人类进入旧石器时代", b: "B. 标志人类进入农耕文明", c: "C. 标志人类进入青铜时代", d: "D. 标志人类进入铁器时代", ans: "B", reason: "种植水稻是农耕文明的标志，说明河姆渡进入农耕时代" },
                { q: "4. 半坡居民制作彩陶的意义是？", a: "A. 标志人类有了审美观念", b: "B. 标志人类会人工取火", c: "C. 标志人类会种粟", d: "D. 标志人类会住房屋", ans: "A", reason: "彩陶上的图案反映人类早期的审美观念" },
                { q: "5. 夏朝建立的意义是？", a: "A. 标志人类进入原始社会", b: "B. 标志人类进入奴隶社会", c: "C. 标志人类进入封建社会", d: "D. 标志人类进入资本主义社会", ans: "B", reason: "夏朝是我国第一个奴隶制王朝，其建立标志奴隶社会开始" },
                { q: "6. 商朝青铜铸造业发达的意义是？", a: "A. 标志人类进入农耕文明", b: "B. 反映商朝手工业技术的高超", c: "C. 标志人类进入旧石器时代", d: "D. 反映商朝农业水平的高超", ans: "B", reason: "青铜铸造业是商朝手工业的代表，其发达反映手工业技术高超" },
                { q: "7. 西周分封制的意义是？", a: "A. 加强了周天子对地方的控制", b: "B. 削弱了周天子的权力", c: "C. 导致诸侯割据混战", d: "D. 标志人类进入封建社会", ans: "A", reason: "分封制将诸侯分封到各地，加强了周天子对地方的统治" },
                { q: "8. 春秋争霸战争的积极意义是？", a: "A. 促进了民族交融", b: "B. 导致社会动荡", c: "C. 破坏了生产", d: "D. 导致国家分裂", ans: "A", reason: "争霸战争中，各民族交流频繁，促进了民族交融" },
                { q: "9. 战国时期各国变法的意义是？", a: "A. 巩固了奴隶制度", b: "B. 促进了封建制度的确立", c: "C. 导致国家分裂", d: "D. 破坏了生产", ans: "B", reason: "各国变法（如商鞅变法）废除奴隶制度，确立封建制度" },
                { q: "10. 商鞅变法的意义是？", a: "A. 使秦国成为最富强的国家", b: "B. 使秦国灭亡", c: "C. 使秦国分裂", d: "D. 使秦国进入奴隶社会", ans: "A", reason: "商鞅变法使秦国经济、军事迅速发展，成为战国后期最富强国家" },
                { q: "11. 都江堰修建的意义是？", a: "A. 促进了成都平原的农业发展", b: "B. 导致成都平原水患频发", c: "C. 破坏了成都平原的生态", d: "D. 使秦国灭亡", ans: "A", reason: "都江堰灌溉成都平原，使其成为“天府之国”，促进农业发展" },
                { q: "12. 孔子思想的意义是？", a: "A. 成为我国封建社会的正统思想", b: "B. 主张以法治国", c: "C. 主张无为而治", d: "D. 主张兼爱非攻", ans: "A", reason: "汉武帝后，儒家思想成为我国封建社会的正统思想，影响深远" },
                { q: "13. 百家争鸣的意义是？", a: "A. 促进了思想文化的繁荣", b: "B. 导致社会动荡", c: "C. 破坏了生产", d: "D. 导致国家分裂", ans: "A", reason: "百家争鸣中，各学派发表不同观点，促进了思想文化的繁荣" },
                { q: "14. 甲骨文的意义是？", a: "A. 标志我国有文字可考的历史始于商朝", b: "B. 标志我国进入封建社会", c: "C. 标志我国进入奴隶社会", d: "D. 标志我国进入农耕文明", ans: "A", reason: "甲骨文是我国最早成熟文字，其发现使我国可考历史始于商朝" },
                { q: "15. 商朝青铜器的意义是？", a: "A. 反映商朝手工业的高超水平", b: "B. 反映商朝农业的高超水平", c: "C. 反映商朝商业的高超水平", d: "D. 反映商朝军事的高超水平", ans: "A", reason: "青铜器是商朝手工业的代表，反映手工业技术水平" },
                { q: "16. 秦朝统一中国的意义是？", a: "A. 结束了春秋战国以来的分裂割据局面", b: "B. 导致社会动荡", c: "C. 破坏了生产", d: "D. 导致国家分裂", ans: "A", reason: "秦统一结束了长期分裂，建立我国第一个统一的多民族封建国家" },
                { q: "17. 秦朝统一文字的意义是？", a: "A. 促进了文化的交流和传播", b: "B. 促进了农业的发展", c: "C. 促进了商业的发展", d: "D. 促进了军事的发展", ans: "A", reason: "统一文字消除文化壁垒，便于文化交流和传播" },
                { q: "18. 秦朝统一货币的意义是？", a: "A. 促进了经济的交流和发展", b: "B. 促进了文化的发展", c: "C. 促进了军事的发展", d: "D. 促进了农业的发展", ans: "A", reason: "统一货币消除经济壁垒，便于经济交流和发展" },
                { q: "19. 秦长城修建的意义是？", a: "A. 抵御了匈奴的入侵，保护了北方农业生产", b: "B. 导致秦朝灭亡", c: "C. 破坏了北方生态", d: "D. 导致社会动荡", ans: "A", reason: "秦长城有效抵御匈奴，保护了北方地区的农业生产和人民生活" },
                { q: "20. 山顶洞人掌握人工取火的意义是？", a: "A. 标志人类进入旧石器时代", b: "B. 标志人类进入新石器时代", c: "C. 提高人类适应环境的能力", d: "D. 标志人类进入农耕文明", ans: "C", reason: "人工取火使人类可随时用火，进一步提高适应环境的能力" },
                { q: "21. 河姆渡与半坡文明的意义是？", a: "A. 标志我国早期农耕文明的出现", b: "B. 标志我国进入奴隶社会", c: "C. 标志我国进入封建社会", d: "D. 标志我国进入资本主义社会", ans: "A", reason: "二者是我国早期农耕文明的代表，其出现标志农耕文明的产生" },
                { q: "22. 西周宗法制的意义是？", a: "A. 维护了西周的等级秩序", b: "B. 导致西周灭亡", c: "C. 破坏了西周的生产", d: "D. 导致西周分裂", ans: "A", reason: "宗法制以血缘为基础，维护了西周的等级秩序和统治" },
                { q: "23. 战国时期铁器和牛耕推广的意义是？", a: "A. 促进了农业生产的发展", b: "B. 促进了手工业的发展", c: "C. 促进了商业的发展", d: "D. 促进了军事的发展", ans: "A", reason: "铁器和牛耕提高了农业生产效率，促进农业发展" },
                { q: "24. 法家思想的意义是？", a: "A. 为秦朝统一和中央集权制度的建立提供了理论基础", b: "B. 主张以德治国", c: "C. 主张无为而治", d: "D. 主张兼爱非攻", ans: "A", reason: "法家思想主张法治和中央集权，为秦朝统一和制度建立提供理论支持" },
                { q: "25. 陈胜吴广起义的意义是？", a: "A. 推翻了秦朝的统治", b: "B. 是我国历史上第一次大规模农民起义", c: "C. 建立了新的朝代", d: "D. 促进了经济的发展", ans: "B", reason: "陈胜吴广起义是我国历史上第一次大规模农民起义，沉重打击了秦朝统治" }
            ],
            // 题库6：综合应用类
            [
                { q: "1. 某同学在博物馆看到一件距今约170万年的古人类化石，该化石最可能是？", a: "A. 北京人化石", b: "B. 元谋人化石", c: "C. 山顶洞人化石", d: "D. 半坡人化石", ans: "B", reason: "元谋人距今约170万年，是我国境内最早古人类，符合时间特征" },
                { q: "2. 考古人员在某遗址发现大量打制石器和灰烬层，该遗址最可能是？", a: "A. 河姆渡遗址", b: "B. 半坡遗址", c: "C. 北京人遗址", d: "D. 山顶洞人遗址", ans: "C", reason: "北京人使用打制石器，会使用天然火（有灰烬层）；河姆渡、半坡用磨制石器，山顶洞人会人工取火" },
                { q: "3. 某遗址出土“干栏式房屋遗迹和水稻种子”，该遗址最可能是？", a: "A. 北京人遗址", b: "B. 山顶洞人遗址", c: "C. 河姆渡遗址", d: "D. 半坡遗址", ans: "C", reason: "河姆渡居民住干栏式房屋，种植水稻，符合遗址特征" },
                { q: "4. 某遗址出土“半地穴式房屋遗迹和彩陶”，该遗址最可能是？", a: "A. 北京人遗址", b: "B. 山顶洞人遗址", c: "C. 河姆渡遗址", d: "D. 半坡遗址", ans: "D", reason: "半坡居民住半地穴式房屋，制作彩陶，符合遗址特征" },
                { q: "5. 史书记载“某王朝建立后，王位由‘传贤’变为‘传子’”，该王朝是？", a: "A. 夏朝", b: "B. 商朝", c: "C. 西周", d: "D. 秦朝", ans: "A", reason: "夏朝禹传位给启，王位世袭制取代禅让制（传贤），符合记载" },
                { q: "6. 某青铜器上刻有“商王武丁祭祀母亲戊”的铭文，该青铜器最可能是？", a: "A. 四羊方尊", b: "B. 司母戊鼎", c: "C. 利簋", d: "D. 毛公鼎", ans: "B", reason: "司母戊鼎是商王武丁为祭祀母亲戊而铸，符合铭文内容" },
                { q: "7. 某诸侯获得周天子赏赐的土地和人民，需向周天子纳贡、作战，该制度是？", a: "A. 禅让制", b: "B. 世袭制", c: "C. 分封制", d: "D. 郡县制", ans: "C", reason: "西周分封制中，诸侯从周天子处获得土地人民，需履行纳贡、作战等义务" },
                { q: "8. 某历史事件“以‘尊王攘夷’为口号，通过葵丘会盟确立霸主地位”，该事件的主角是？", a: "A. 晋文公", b: "B. 楚庄王", c: "C. 齐桓公", d: "D. 秦穆公", ans: "C", reason: "齐桓公以“尊王攘夷”为口号，通过葵丘会盟确立霸主地位" },
                { q: "9. 某改革规定“奖励耕织，生产粮食布帛多的人可免除徭役”，该改革是？", a: "A. 李悝变法", b: "B. 吴起变法", c: "C. 商鞅变法", d: "D. 管仲改革", ans: "C", reason: "商鞅变法中“奖励耕织”的措施与题干描述一致" },
                { q: "10. 某水利工程“由鱼嘴、飞沙堰、宝瓶口三部分组成，能灌溉、防洪”，该工程是？", a: "A. 郑国渠", b: "B. 都江堰", c: "C. 灵渠", d: "D. 大运河", ans: "B", reason: "都江堰由鱼嘴（分流）、飞沙堰（排沙）、宝瓶口（引水）组成，功能是灌溉防洪" },
                { q: "11. 某思想家主张“为政以德，譬如北辰，居其所而众星共之”，该思想家是？", a: "A. 孔子", b: "B. 老子", c: "C. 墨子", d: "D. 韩非子", ans: "A", reason: "“为政以德”是孔子儒家思想的核心主张，强调以德治国" },
                { q: "12. 某思想家主张“不期修古，不法常可”，主张根据时代变化进行改革，该思想家是？", a: "A. 孔子", b: "B. 老子", c: "C. 墨子", d: "D. 韩非子", ans: "D", reason: "“不期修古，不法常可”是法家韩非子的主张，强调改革变法" },
                { q: "13. 某文字“刻在龟甲上，记录祭祀占卜内容，是我国最早成熟文字”，该文字是？", a: "A. 甲骨文", b: "B. 金文", c: "C. 小篆", d: "D. 隶书", ans: "A", reason: "甲骨文刻在龟甲上，记录祭祀占卜，是我国最早成熟文字" },
                { q: "14. 秦朝某官员“负责监察百官，纠举弹劾违法官吏”，该官员的官职是？", a: "A. 丞相", b: "B. 太尉", c: "C. 御史大夫", d: "D. 郡守", ans: "C", reason: "秦朝三公中，御史大夫负责监察百官；丞相管行政，太尉管军事" },
                { q: "15. 某货币“圆形方孔，上面刻有‘半两’字样，在秦朝全国流通”，该货币是？", a: "A. 刀币", b: "B. 布币", c: "C. 圆形方孔半两钱", d: "D. 蚁鼻钱", ans: "C", reason: "秦朝统一货币为圆形方孔半两钱，符合题干描述" },
                { q: "16. 某文字“笔画规整，字形修长，是秦朝官方规范文字”，该文字是？", a: "A. 甲骨文", b: "B. 金文", c: "C. 小篆", d: "D. 隶书", ans: "C", reason: "小篆是秦朝官方文字，笔画规整、字形修长；隶书是民间简化文字" },
                { q: "17. 某工程“西起临洮，东到辽东，是秦朝为抵御北方游牧民族修建的”，该工程是？", a: "A. 都江堰", b: "B. 秦长城", c: "C. 灵渠", d: "D. 阿房宫", ans: "B", reason: "秦长城西起临洮、东到辽东，用于抵御北方匈奴" },
                { q: "18. 某起义“因大雨误期，提出‘王侯将相宁有种乎’的口号”，该起义是？", a: "A. 陈胜吴广起义", b: "B. 项羽起义", c: "C. 刘邦起义", d: "D. 黄巾起义", ans: "A", reason: "陈胜吴广起义因大雨误期，提出“王侯将相宁有种乎”的口号" },
                { q: "19. 某遗址出土“骨针和穿孔贝壳装饰品”，该遗址最可能是？", a: "A. 北京人遗址", b: "B. 山顶洞人遗址", c: "C. 河姆渡遗址", d: "D. 半坡遗址", ans: "B", reason: "山顶洞人会用骨针缝制衣服，制作贝壳装饰品，符合遗址特征" },
                { q: "20. 某制度“以血缘关系为基础，核心是嫡长子继承制，维护等级秩序”，该制度是？", a: "A. 禅让制", b: "B. 世袭制", c: "C. 宗法制", d: "D. 郡县制", ans: "C", reason: "宗法制以血缘为基础，核心是嫡长子继承制，维护等级秩序" },
                { q: "21. 某改革“废除井田制，允许土地自由买卖，确立封建土地私有制”，该改革是？", a: "A. 李悝变法", b: "B. 吴起变法", c: "C. 商鞅变法", d: "D. 管仲改革", ans: "C", reason: "商鞅变法废除井田制，允许土地买卖，确立封建土地私有制" },
                { q: "22. 某思想学派“代表下层平民利益，主张‘兼爱’‘非攻’‘节用’”，该学派是？", a: "A. 儒家", b: "B. 道家", c: "C. 墨家", d: "D. 法家", ans: "C", reason: "墨家代表下层平民利益，核心主张是“兼爱”“非攻”“节用”" },
                { q: "23. 某文字“刻在青铜器上，又称钟鼎文，记录西周分封、祭祀等内容”，该文字是？", a: "A. 甲骨文", b: "B. 金文", c: "C. 小篆", d: "D. 隶书", ans: "B", reason: "金文刻在青铜器上（钟鼎文），西周时期盛行，记录分封、祭祀等内容" },
                { q: "24. 秦朝某官员“负责管理一郡的行政事务，由皇帝直接任命”，该官员的官职是？", a: "A. 丞相", b: "B. 太尉", c: "C. 御史大夫", d: "D. 郡守", ans: "D", reason: "秦朝郡县制中，郡守负责一郡行政，由皇帝任命；丞相、太尉、御史大夫是中央官职" },
                { q: "25. 某历史事件“结束了春秋战国以来长期分裂割据的局面，建立我国第一个统一的多民族封建国家”，该事件是？", a: "A. 夏朝建立", b: "B. 商朝建立", c: "C. 西周建立", d: "D. 秦朝统一", ans: "D", reason: "秦朝统一结束分裂，建立我国第一个统一的多民族封建国家，符合事件描述" }
            ]
        ];

        // -------------------------- 随机抽取核心逻辑 --------------------------
        let currentBank = []; // 当前选中的题库
        let currentIdx = 0;   // 当前题目索引
        let score = 0;        // 得分
        let wrongs = [];      // 错题记录

        // 获取DOM元素
        const startPage = document.getElementById("startPage");
        const questionPage = document.getElementById("questionPage");
        const resultPage = document.getElementById("resultPage");
        const startBtn = document.getElementById("startBtn");
        const restartBtn = document.getElementById("restartBtn");
        const currentQ = document.getElementById("currentQ");
        const optA = document.getElementById("optA");
        const optB = document.getElementById("optB");
        const optC = document.getElementById("optC");
        const optD = document.getElementById("optD");
        const scoreDom = document.getElementById("score");
        const wrongContent = document.getElementById("wrongContent");

        // 页面加载完成后绑定交互事件
        document.addEventListener("DOMContentLoaded", function() {
            // 1. 开始测试：随机选择1套题库
            startBtn.addEventListener("click", function() {
                // 生成0-5的随机索引（对应6套题库）
                const randomBankIdx = Math.floor(Math.random() * allBanks.length);
                currentBank = allBanks[randomBankIdx]; // 选中随机题库
                
                // 重置状态+切换页面
                currentIdx = 0;
                score = 0;
                wrongs = [];
                startPage.style.display = "none";
                questionPage.style.display = "block";
                loadQuestion(); // 加载当前题库的第一题
            });

            // 2. 重新测试：再次随机选择1套题库
            restartBtn.addEventListener("click", function() {
                const randomBankIdx = Math.floor(Math.random() * allBanks.length);
                currentBank = allBanks[randomBankIdx];
                
                // 重置状态+切换页面
                currentIdx = 0;
                score = 0;
                wrongs = [];
                resultPage.style.display = "none";
                startPage.style.display = "block";
            });

            // 3. 选项点击：判分+跳题/显示结果
            [optA, optB, optC, optD].forEach(function(option) {
                option.addEventListener("click", function() {
                    const currentQuestion = currentBank[currentIdx];
                    const userAns = this.innerText.charAt(0); // 获取用户选择的A/B/C/D

                    // 判分：正确加分，错误记录错题
                    if (userAns === currentQuestion.ans) {
                        score += 4; // 每题4分，满分100分
                    } else {
                        wrongs.push({
                            question: currentQuestion.q,
                            userChoice: userAns,
                            correctAns: currentQuestion.ans,
                            reason: currentQuestion.reason
                        });
                    }

                    // 跳转逻辑：下一题或结果页
                    currentIdx++;
                    if (currentIdx < currentBank.length) {
                        loadQuestion();
                    } else {
                        showResult();
                    }
                });
            });
        });

        // 加载当前题库的当前题目
        function loadQuestion() {
            const question = currentBank[currentIdx];
            currentQ.textContent = question.q;
            optA.textContent = question.a;
            optB.textContent = question.b;
            optC.textContent = question.c;
            optD.textContent = question.d;
        }

        // 显示测试结果（总分+错题解析）
        function showResult() {
            questionPage.style.display = "none";
            resultPage.style.display = "block";
            scoreDom.textContent = `你的总分：${score} 分（满分100分）`;

            // 渲染错题列表
            if (wrongs.length > 0) {
                let wrongHtml = "";
                wrongs.forEach((wrong, index) => {
                    wrongHtml += `
                        <div class="wrong-item">
                            <p><strong>${index + 1}. ${wrong.question}</strong></p>
                            <p>你的答案：${wrong.userChoice} | 正确答案：${wrong.correctAns}</p>
                            <p class="reason">解析：${wrong.reason}</p>
                        </div>
                    `;
                });
                wrongContent.innerHTML = wrongHtml;
            } else {
                wrongContent.innerHTML = "<p>🎉 全对！基础知识掌握超牢～</p>";
            }
        }
    </script>
</body>
</html>
